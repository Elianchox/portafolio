---
import Caption from "../../Caption.astro"
import SectionContainer from "../SectionContainer.astro"
import Code from "../../../assets/icons/Code.astro";
import ProjectItem from "./ProjectItem.astro";
import type { PortfolioConfig } from "../../../types/config";

interface Props {
  projects: PortfolioConfig['projects']
  sectionId: PortfolioConfig['navigation']['nav']['projects']['sectionId']
}

const { projects, sectionId } = Astro.props
---

<SectionContainer id={sectionId}>
  <Caption>
    <Code />
    {projects.title}
  </Caption>
  <div class="flex flex-col">
    {projects.data.map((project, index) => (
      <div>
        <ProjectItem
          title={project.title}
          description={project.description}
          image={project.image}
          link={project.link}
          github={project.github}
          tags={project.tags}
        />
        {index < projects.data.length - 1 && (<hr class="my-8 border-dashed border-gray-300 dark:border-gray-700" />)}
      </div>
    ))}
  </div>
</SectionContainer>